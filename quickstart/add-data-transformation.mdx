---
title: 2. Transform & validate data
description: "Learn how to respond to events in Flatfile and transform data."
---

Whenever any data changes in a Workbook, an event is triggered via <Tooltip tip="Learn more about Events">[Event Hooks](../concepts/events)</Tooltip>. 
Using our powerful [@flatfile/listener](https://www.npmjs.com/package/@flatfile/listener) library, we can listen for events and respond to them.

## Start listening for events

For this tutorial, we will intervene the `record` event topic with [@flatfile/plugin-record-hook](https://www.npmjs.com/package/@flatfile/plugin-record-hook) and perform callback functions
based on the values provided inside that event.

Begin capturing Events as they happen in your Workbook with this [dev sandbox](https://replit.com/@AshleyMulligan/BogusFinancialAssembler#index.ts). 

<Info>You'll need to add your [secret key](../security/authentication) to the `.flatfilerc` file to get authenticated.</Info>

### How it works: 

Every time this polling driver gets a new event from someone interacting in your Workbook, you will be able to 
respond by updating the data in your Sheet. The UI will immediately reflect those changes.


<a target="_blank" class="group px-4 py-1.5 relative inline-flex items-center rounded-full shadow-sm text-sm font-medium" 
href="https://replit.com/@AshleyMulligan/BogusFinancialAssembler#index.ts">
    <span class="absolute inset-0 bg-primary-dark rounded-full group-hover:opacity-[0.9]"></span>
    <span class="z-10 mr-2 text-white">See it in Replit</span>
    <svg width="6" height="3" class="h-2 overflow-visible -rotate-90 text-white" aria-hidden="true"><path d="M0 0L3 3L6 0" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
</a>

<a target="_blank" href="https://github.com" class="font-medium hover:text-primary dark:hover:text-primary-light py-1.5 mx-4">Clone the full project</a>

### Using validation plugins

For this tutorial, we will perform a simple data transformation using [@flatfile/hooks](https://www.npmjs.com/package/@flatfile/hooks).

Flatfile provides a number of handy [validation plugins](https://plugins.flatfile.com). Explore open source validation plugins available like:

<CardGroup cols={3}>
  <Card color="#CB3837" title="@flatfile/plugin-autocast" icon="npm" href="npmjs.com">
  </Card>
  <Card color="#CB3837" title="@flatfile/plugin-pretty-dates" icon="npm" href="npmjs.com">
  </Card>
  <Card color="#CB3837" title="@flatfile/plugin-addresses" icon="npm" href="npmjs.com">
  </Card>
</CardGroup>


## Adding your first data transformation

In this example, we will transform the data provided inside the record event using the `record.transform` helper 
from the [@flatfile/hooks](https://www.npmjs.com/package/@flatfile/hooks) plugin.

This transformation specifically will take full name and split it into first and last name.

```jsx
client.use(recordHook('my-sheet1', (record: FlatfileRecord) => {
	record.transform('full_name', () => `${first_name} ${last_name}`)
	return record;
}));
```

## Adding your first validation

In this example, we will validate the data provided inside the record event using the `record.validate` helper 
also from the [@flatfile/hooks](https://www.npmjs.com/package/@flatfile/hooks) plugin.

This validation specifically will use the popular [email-validator](https://www.npmjs.com/package/email-validator) package 
to make sure the email is actually valid.

<Tip>
You can use any javascript validation engine in the world to automatically detect formatting or rule-based issues 
in your data.
</Tip>


```jsx
client.use(recordHook('my-sheet1', (record: FlatfileRecord) => {
	record.transform('full_name', () => `${first_name} ${last_name}`)
	record.validate('email', 'Email is invalid',  (email) => EmailValidator.validate(email))
	return record;
}));
```

---

## Recap & Next Steps

You should now have a locally running listener that is responding to record changes in your Workbook.

Next, we will add an action that submits data from this Sheet to your API.
